<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Booking Paket - GlobeJourney</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="../css/style.css">
</head>

<body>

    <!-- NAVBAR
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark sticky-top">
        <div class="container">
            <a class="navbar-brand fw-bold" href="../index.html">GlobeJourney</a>
            <ul class="navbar-nav ms-auto">
                <li class="nav-item"><a class="nav-link" href="../destinations.html">Destinations</a></li>
                <li class="nav-item"><a class="nav-link active" href="../tours.html">Packages</a></li>
            </ul>
        </div>
    </nav> -->

    <header class="sticky-top">
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
            <div class="container">
                <a class="navbar-brand fw-bold" href="../index.html">GlobeJourney</a>

                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="../index.html" data-page="home">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="../about.html" data-page="about">About</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="../destinations.html" data-page="destinations">Destinations</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="../tours.html" data-page="packages">Packages</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="../gallery.html" data-page="gallery">Gallery</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="../blog.html" data-page="blog">Blog</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="../contact.html" data-page="contact">Contact</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <!-- MAIN -->
    <main class="container py-5">
        <div class="row">

            <!-- FORM -->
            <div class="col-lg-8">
                <h1 class="mb-4" id="pageTitle"></h1>

                <!-- DETAIL -->
                <div class="card mb-4 shadow-sm border-0">
                    <div class="card-header bg-primary text-white">
                        <h5 class="mb-0">Detail Paket</h5>
                    </div>
                    <div class="card-body">
                        <p><strong>Nama Paket:</strong> <span id="packageName"></span></p>
                        <p><strong>Durasi:</strong> <span id="packageDuration"></span></p>
                        <p><strong>Destinasi:</strong> <span id="packageDestination"></span></p>
                        <p><strong>Harga / Orang:</strong> Rp <span id="pricePerPerson"></span></p>
                    </div>
                </div>

                <!-- FORM BOOKING -->
                <form id="bookingForm" class="needs-validation" novalidate>

                    <h5>Informasi Pemesan</h5>

                    <div class="mb-3">
                        <label class="form-label">Nama Lengkap</label>
                        <input type="text" class="form-control" required>
                        <div class="invalid-feedback">Nama wajib diisi</div>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Email</label>
                        <input type="email" class="form-control" required>
                        <div class="invalid-feedback">Email tidak valid</div>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Nomor Telepon</label>
                        <!-- <input type="tel" class="form-control" pattern="[0-9]+" required> -->
                        <input type="tel" class="form-control" id="phone" name="phone" required>

                        <div class="invalid-feedback">Nomor telepon hanya boleh angka</div>
                    </div>

                    <h5 class="mt-4">Detail Pemesanan</h5>

                    <div class="mb-3">
                        <label class="form-label">Jumlah Peserta</label>
                        <input type="number" id="participants" class="form-control" min="1" value="1" required>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Tanggal Keberangkatan</label>
                        <input type="date" class="form-control" required>
                    </div>

                    <button type="submit" class="btn btn-primary btn-lg w-100 rounded-pill">
                        Kirim Pemesanan
                    </button>
                </form>
            </div>

            <!-- RINGKASAN -->
            <div class="col-lg-4">
                <div class="card shadow-sm border-0 sticky-top" style="top:100px">
                    <div class="card-header bg-primary text-white">
                        <h5 class="mb-0">Ringkasan Harga</h5>
                    </div>
                    <div class="card-body">
                        <p>Peserta: <strong id="displayParticipants">1</strong></p>
                        <hr>
                        <p class="h5">Total</p>
                        <p class="h4 fw-bold" id="totalPrice"></p>

                        <!-- <a href="../destinations.html" class="btn btn-outline-secondary w-100 rounded-pill mt-3">
                            Kembali
                        </a> -->
                        <button type="button" class="btn btn-outline-secondary w-100 rounded-pill mt-3"
                            onclick="window.history.back()">
                            Kembali
                        </button>

                    </div>
                </div>
            </div>

        </div>
    </main>

    <!-- SCRIPT -->
    <script>
        const destinations = {
            bali: { name: "Bali Escape", price: 8500000, duration: "4 Hari 3 Malam", destination: "Bali" },
            dubai: { name: "Dubai Luxury Trip", price: 16000000, duration: "5 Hari 4 Malam", destination: "Dubai" },
            hawaii: { name: "Hawaii Tropical Holiday", price: 17000000, duration: "6 Hari 5 Malam", destination: "Hawaii" },
            kyoto: { name: "Kyoto Discovery", price: 12000000, duration: "5 Hari 4 Malam", destination: "Kyoto, Jepang" },
            paris: { name: "Paris Romantic Tour", price: 14000000, duration: "5 Hari 4 Malam", destination: "Paris, Prancis" },
            rajaampat: { name: "Raja Ampat Paradise", price: 11000000, duration: "5 Hari 4 Malam", destination: "Raja Ampat" },
            santorini: { name: "Santorini Escape", price: 13000000, duration: "6 Hari 5 Malam", destination: "Santorini, Yunani" },
            swiss: { name: "Swiss Alpine Tour", price: 19000000, duration: "7 Hari 6 Malam", destination: "Swiss" },
            venice: { name: "Venice Classic Trip", price: 12000000, duration: "5 Hari 4 Malam", destination: "Venice, Italia" }
        };

        const phoneInput = document.getElementById("phone");

        phoneInput.addEventListener("input", function () {
            this.value = this.value.replace(/[^0-9]/g, "");
        });

        const params = new URLSearchParams(window.location.search);
        const key = params.get("destination");

        if (!destinations[key]) {
            alert("Destination tidak ditemukan!");
            window.location.href = "../destinations.html";
        }

        const data = destinations[key];

        document.getElementById("pageTitle").textContent = "Form Pemesanan " + data.name;
        document.getElementById("packageName").textContent = data.name;
        document.getElementById("packageDuration").textContent = data.duration;
        document.getElementById("packageDestination").textContent = data.destination;
        document.getElementById("pricePerPerson").textContent = data.price.toLocaleString("id-ID");

        const participants = document.getElementById("participants");
        const totalPrice = document.getElementById("totalPrice");
        const displayParticipants = document.getElementById("displayParticipants");

        function updateTotal() {
            const qty = parseInt(participants.value) || 1;
            displayParticipants.textContent = qty;
            totalPrice.textContent = "Rp " + (qty * data.price).toLocaleString("id-ID");
        }

        participants.addEventListener("input", updateTotal);
        updateTotal();

        document.getElementById("bookingForm").addEventListener("submit", function (e) {
            e.preventDefault();
            if (!this.checkValidity()) {
                this.classList.add("was-validated");
            } else {
                // alert("Pemesanan berhasil dikirim!");
                alert('Terima kasih telah melakukan pemesanan! Tim kami akan menghubungi Anda segera.');

                this.reset();
                participants.value = 1;
                updateTotal();
                this.classList.remove("was-validated");
            }
        });


        const path = window.location.pathname;

        let activePage = '';

        if (path.includes('index.html')) activePage = 'home';
        else if (path.includes('about.html')) activePage = 'about';
        else if (path.includes('destinations.html')) activePage = 'destinations';
        else if (path.includes('tours.html')) activePage = 'packages';
        else if (path.includes('booking.html')) activePage = 'packages'; // â­ INI KUNCINYA
        else if (path.includes('gallery.html')) activePage = 'gallery';
        else if (path.includes('blog.html')) activePage = 'blog';
        else if (path.includes('contact.html')) activePage = 'contact';

        document.querySelectorAll('.nav-link').forEach(link => {
            if (link.dataset.page === activePage) {
                link.classList.add('active');
            }
        });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>